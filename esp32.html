<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Chrome, Firefox OS and Opera Status Bar Color -->
  <meta name="theme-color" content="#FFFFFF">
  <meta property="og:title" content="My musings with ESP32">
    <meta property="og:type" content="blog">
  <title>My musings with ESP32</title>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
  <link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
  <link rel="stylesheet" type="text/css" href="css/notablog.css">
  <link rel="stylesheet" type="text/css" href="css/theme.css">
  <style>
    :root {
      font-size: 18px;
    }

    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
    <a href="index.html">
      <div class="Navbar__Btn"><span><img class="inline-img-icon" src="https://i.imgur.com/lKXYUKS.png"></span> <span>Home</span></div>
    </a>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span class="Navbar__Delim">&centerdot;</span>
    <a href="about.html">
      <div class="Navbar__Btn"><span>ðŸ‘¤</span> <span>About</span></div>
    </a>
                <span class="Navbar__Delim">&centerdot;</span>
    <a href="library.html">
      <div class="Navbar__Btn"><span>ðŸ““</span> <span>Library</span></div>
    </a>
          </nav>
  <header class="Header">
          <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
        <div class="Header__Icon"><span><img class="inline-img-icon" src="https://i.imgur.com/982GwFdl.jpg"></span></div>
        <h1 class="Header__Title">My musings with ESP32</h1>
            <div class="DateTagBar">
                <span class="DateTagBar__Item DateTagBar__Date">Posted on Sun, Aug 25, 2019</span>
                          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--yellow">
            <a href="tag/IoT.html">IoT</a>
          </span>
                  </div>
          </header>
      <article id="https://www.notion.so/56fa4d7f36994747a88b5093ee2469b5" class="PageRoot"><div id="https://www.notion.so/5b5963df166f4f7c816e76b623099fc0" class="CollectionInline"><h3><a class="Anchor" href="#https://www.notion.so/5b5963df166f4f7c816e76b623099fc0"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Technical Specifications</span></span></h3><div class="Table"><table><thead><tr><th style="width:383px">Specification</th><th style="width:261px">Value</th></tr></thead><tbody><tr><td class="Table__CellTitle"><a href="https://www.notion.so/84f25790d287467282a502519afcb789"><span class="SemanticStringArray"><span class="SemanticString">Number of cores</span></span></a></td><td class="Table__CellText"><span class="SemanticStringArray"><span class="SemanticString">2</span></span></td></tr><tr><td class="Table__CellTitle"><a href="https://www.notion.so/d85c748f86854465bb157ffb6b696167"><span class="SemanticStringArray"><span class="SemanticString">Architecture</span></span></a></td><td class="Table__CellText"><span class="SemanticStringArray"><span class="SemanticString">32 bit</span></span></td></tr><tr><td class="Table__CellTitle"><a href="https://www.notion.so/f30a9bb729c9454d87ec677817edeadc"><span class="SemanticStringArray"><span class="SemanticString">CPU Frequency</span></span></a></td><td class="Table__CellText"><span class="SemanticStringArray"><span class="SemanticString">240MHz</span></span></td></tr><tr><td class="Table__CellTitle"><a href="https://www.notion.so/2fc200e85eb14769a00af8d39cefdd78"><span class="SemanticStringArray"><span class="SemanticString">Wi-Fi</span></span></a></td><td class="Table__CellText"><span class="SemanticStringArray"><span class="SemanticString">YES</span></span></td></tr><tr><td class="Table__CellTitle"><a href="https://www.notion.so/427d9495460743ed8794c7fedff0a93e"><span class="SemanticStringArray"><span class="SemanticString">Bluetooth</span></span></a></td><td class="Table__CellText"><span class="SemanticStringArray"><span class="SemanticString">YES</span></span></td></tr><tr><td class="Table__CellTitle"><a href="https://www.notion.so/24c23f72096a44a08f4c566710fc35ea"><span class="SemanticStringArray"><span class="SemanticString">RAM</span></span></a></td><td class="Table__CellText"><span class="SemanticStringArray"><span class="SemanticString">512 KB</span></span></td></tr><tr><td class="Table__CellTitle"><a href="https://www.notion.so/166d17d14f3b41e2b97f0feb260437e5"><span class="SemanticStringArray"><span class="SemanticString">FLASH</span></span></a></td><td class="Table__CellText"><span class="SemanticStringArray"><span class="SemanticString">16 MB</span></span></td></tr><tr><td class="Table__CellTitle"><a href="https://www.notion.so/032c5bad6b054902b1e2dc2af63ff27a"><span class="SemanticStringArray"><span class="SemanticString">GPIO Pins</span></span></a></td><td class="Table__CellText"><span class="SemanticStringArray"><span class="SemanticString">36</span></span></td></tr><tr><td class="Table__CellTitle"><a href="https://www.notion.so/f27087c895754704a10436bd3bcbbe5c"><span class="SemanticStringArray"><span class="SemanticString">Communication Protocols</span></span></a></td><td class="Table__CellText"><span class="SemanticStringArray"><span class="SemanticString">SPI, IIC, I2S, UART, CAN</span></span></td></tr><tr><td class="Table__CellTitle"><a href="https://www.notion.so/fd2735148d264770ba64493f15b152c4"><span class="SemanticStringArray"><span class="SemanticString">ADC channels</span></span></a></td><td class="Table__CellText"><span class="SemanticStringArray"><span class="SemanticString">18 channels</span></span></td></tr><tr><td class="Table__CellTitle"><a href="https://www.notion.so/e1c3f121c96c4fbfbcb5de3179cf703c"><span class="SemanticStringArray"><span class="SemanticString">ADC Resolution</span></span></a></td><td class="Table__CellText"><span class="SemanticStringArray"><span class="SemanticString">12-bit</span></span></td></tr><tr><td class="Table__CellTitle"><a href="https://www.notion.so/6d2e0742b0c4490fba39fd6c6010852e"><span class="SemanticStringArray"><span class="SemanticString">DAC channels</span></span></a></td><td class="Table__CellText"><span class="SemanticStringArray"><span class="SemanticString">2</span></span></td></tr><tr><td class="Table__CellTitle"><a href="https://www.notion.so/f017f095f7914839952a20fea401d04f"><span class="SemanticStringArray"><span class="SemanticString">DAC Resolution</span></span></a></td><td class="Table__CellText"><span class="SemanticStringArray"><span class="SemanticString">8-bit</span></span></td></tr></tbody></table></div></div><div id="https://www.notion.so/c44eff9161a5461ba55f23aa06fc7b46" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Official Repository</strong></span><span class="SemanticString">: </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/espressif/arduino-esp32">https://github.com/espressif/arduino-esp32</a></span></span></p></div><div id="https://www.notion.so/5af823f095fe4dc2bba841c76fd67d26" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fdd8a1f59-842f-45fb-8bf8-d17274b0e92b%2FFE4P1BYJEOILQDT.LARGE.jpg?width=576"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fdd8a1f59-842f-45fb-8bf8-d17274b0e92b%2FFE4P1BYJEOILQDT.LARGE.jpg?width=576" style="width:576px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/ff466955c4924fe3838df922e2a520b7" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/ff466955c4924fe3838df922e2a520b7"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Know</span></span></h2><ul class="BulletedListWrapper"><li id="https://www.notion.so/20546c0db24848b1bf6af70dbfa56a41" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Tools â†’ </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Serial Monitor</strong></span><span class="SemanticString"> is the tool to log and supply the commands to the board.</span></span></li><li id="https://www.notion.so/f184676391bd45a8a0d726db751200e5" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">SPIFFS</strong></span><span class="SemanticString"> - </span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic">Serial Peripheral Interface Flash File System</em></span><span class="SemanticString"> is the flash memory for permanent storage. </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorYellow">4MB</mark></span><span class="SemanticString"> flash memory is available.</span></span></li></ul><h2 id="https://www.notion.so/3289d204cc534034a85d4159dcc24266" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/3289d204cc534034a85d4159dcc24266"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Getting Started</span></span></h2><ol class="NumberedListWrapper"><li id="https://www.notion.so/97fa61f18117459ab3b548848c7bda22" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">Set up Arduino IDE and add the ESP32 board using </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://dl.espressif.com/dl/package_esp32_index.json">https://dl.espressif.com/dl/package_esp32_index.json</a></span><span class="SemanticString">. This is to be done from File â†’ Preferences.</span></span></li><li id="https://www.notion.so/cf3d023beb4041ca98edc960b513ee5f" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">Select </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">DOIT ESP32 DEVKIT V1</strong></span><span class="SemanticString"> from the board selection. My model is </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://www.amazon.in/xcluma-Development-Bluetooth-Ultra-Low-Consumption/dp/B075YSNVPJ"><em class="SemanticString__Fragment SemanticString__Fragment--Italic">xcluma ESP32 ESP-32 ESP-32S ESP 32 Development Board CP2102 Wifi Bluetooth Ultra-Low Power Consumption Dual Core</em></a></span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic">.</em></span></span></li><li id="https://www.notion.so/47dccf35ded049f09e895b9d19520abb" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">Follow </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/espressif/arduino-esp32/blob/master/docs/arduino-ide/debian_ubuntu.md">https://github.com/espressif/arduino-esp32/blob/master/docs/arduino-ide/debian_ubuntu.md</a></span><span class="SemanticString"> to set up the dependencies. The commands might vary slightly depending on the Linux distribution.</span></span></li><li id="https://www.notion.so/f30c35c8b6dd4bcba5f651d232b2c2f4" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">Logout â†’ Login the system. This is IMPORTANT.</span></span></li></ol><h2 id="https://www.notion.so/a79e190fb8a642028ce92be2ce46d19a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/a79e190fb8a642028ce92be2ce46d19a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Debugging</span></span></h2><h3 id="https://www.notion.so/460b493f21174c798b291d955ca4451f" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/460b493f21174c798b291d955ca4451f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Cannot open /dev/ttyUSB0: Permission denied</code></span><span class="SemanticString"> while Upload</span></span></h3><pre id="https://www.notion.so/81e1904e924e4761820e087ad5f585e3" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token comment"># check if the device is recognized (if /dev/ttyUSB[0:9] is present)</span>
<span class="token function">ls</span> /dev/tty*
<span class="token comment"># modify the permissions for execution on the external device</span>
<span class="token function">sudo</span> <span class="token function">usermod</span> -a -G <span class="token function">tty</span> <span class="token operator">&lt;</span>username<span class="token operator">></span></span></span></span></code></pre><h3 id="https://www.notion.so/6833d9cb20e043e38132cabc7578a802" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/6833d9cb20e043e38132cabc7578a802"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Serial Monitor does not produce any output (Java error)</span></span></h3><pre id="https://www.notion.so/56933f0e3c6243478776f6cf2d21dc7a" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token comment"># check what all java versions are available</span>
archlinux-java status
<span class="token comment"># then set the default to be java 11 or 12</span>
<span class="token function">sudo</span> archlinux-java <span class="token builtin class-name">set</span> java-12-openjdk</span></span></span></code></pre><h3 id="https://www.notion.so/363ed26179cb4805b1d80fe1cf85e8db" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/363ed26179cb4805b1d80fe1cf85e8db"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">PACKET_HEADER / PACKET_CONTENT not found</span></span></h3><div id="https://www.notion.so/ae37722b09d543008edc0c48908b1e4d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">This might be a permanent problem due to manufacturing defects in certain boards. To solve this problem, we need to keep </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">BOOT pin</strong></span><span class="SemanticString"> pressed while flashing.
If the sketch is still not loaded after successful flashing, then try pressing </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">EN pin</strong></span><span class="SemanticString"> for sometime.</span></span></p></div><h3 id="https://www.notion.so/3c9d71478f1a418bbb7bbcc0bea48a93" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/3c9d71478f1a418bbb7bbcc0bea48a93"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Flashing bigger sketches on ESP32 - changing flash size</span></span></h3><div id="https://www.notion.so/d72a68e572db44c69850fdb464654480" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Use Arduino IDE for the purpose</span></span></p></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/1349cff256cc41a1bb6f4547210beebc" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">Change the Board: Use </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">ESP32 Dev Module</strong></span><span class="SemanticString"> instead of </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">DOIT ESP32 DEVKIT V1</strong></span></span></li><li id="https://www.notion.so/c8f5ca2eea4c4cfca4b2a17507e04078" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">Change the Partition Schema</span></span><div id="https://www.notion.so/ddd3f240a383455fbd5f4ab71b7e14cf" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">I changed it to </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">3MB / NO OTA / 1MB SPIFFS</strong></span></span></p></div></li></ol><div id="https://www.notion.so/1197713eda714dc5920b019144321e78" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">This allows to flash bigger sketches. You might be willing to change the partition scheme according to your requirements.</span></span></p></div><h2 id="https://www.notion.so/59a17d6066c74cc1a301ae11eabb2b56" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/59a17d6066c74cc1a301ae11eabb2b56"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Interesting</span></span></h2><ul class="BulletedListWrapper"><li id="https://www.notion.so/e95ed1de7ce2470caf440a211f918745" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Upon being used as WiFi access point, upon the password string being kept empty, it&#x27;s an open network.</span></span></li><li id="https://www.notion.so/ddce414bb2714188962ad01fd89010c9" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">The ESP32 board can be used interestingly as a </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">repeater</strong></span><span class="SemanticString"> - </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/martin-ger/esp_wifi_repeater">https://github.com/martin-ger/esp_wifi_repeater</a></span></span></li></ul><h1 id="https://www.notion.so/9eec91347e4548f4a2f42c3280f38dce" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/9eec91347e4548f4a2f42c3280f38dce"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Programming on ESP32 using Arduino IDE</span></span></h1><h2 id="https://www.notion.so/e09a38bfd2a44454b1ba93a776bcc93e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/e09a38bfd2a44454b1ba93a776bcc93e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Connecting to WiFi â†’ Making a GET request (webpage / file)</span></span></h2><details id="https://www.notion.so/8173b633e8b546f29cc2867adace9e69" class="ColorfulBlock ColorfulBlock--ColorDefault Toggle"><summary class="Toggle__Summary"><span class="SemanticStringArray"><span class="SemanticString"><del class="SemanticString__Fragment SemanticString__Fragment--Strike">Lengthier code</del></span></span></summary><div class="Toggle__Content"><pre id="https://www.notion.so/392ce7c4827f4f8fae6af5e3eeb10ea1" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token comment">/**
 * BasicHTTPClient.ino
 *
 *  Created on: 24.05.2015
 *
 */</span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;Arduino.h></span></span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;WiFi.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;WiFiMulti.h></span></span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;HTTPClient.h></span></span>

<span class="token macro property">#<span class="token directive keyword">define</span> USE_SERIAL Serial</span>

WiFiMulti wifiMulti<span class="token punctuation">;</span>

<span class="token comment">/*
const char* ca = \ 
"-----BEGIN CERTIFICATE-----\n" \  
"MIIEkjCCA3qgAwIBAgIQCgFBQgAAAVOFc2oLheynCDANBgkqhkiG9w0BAQsFADA/\n" \  
"MSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4xFzAVBgNVBAMT\n" \  
"DkRTVCBSb290IENBIFgzMB4XDTE2MDMxNzE2NDA0NloXDTIxMDMxNzE2NDA0Nlow\n" \  
"SjELMAkGA1UEBhMCVVMxFjAUBgNVBAoTDUxldCdzIEVuY3J5cHQxIzAhBgNVBAMT\n" \  
"GkxldCdzIEVuY3J5cHQgQXV0aG9yaXR5IFgzMIIBIjANBgkqhkiG9w0BAQEFAAOC\n" \  
"AQ8AMIIBCgKCAQEAnNMM8FrlLke3cl03g7NoYzDq1zUmGSXhvb418XCSL7e4S0EF\n" \  
"q6meNQhY7LEqxGiHC6PjdeTm86dicbp5gWAf15Gan/PQeGdxyGkOlZHP/uaZ6WA8\n" \  
"SMx+yk13EiSdRxta67nsHjcAHJyse6cF6s5K671B5TaYucv9bTyWaN8jKkKQDIZ0\n" \  
"Z8h/pZq4UmEUEz9l6YKHy9v6Dlb2honzhT+Xhq+w3Brvaw2VFn3EK6BlspkENnWA\n" \  
"a6xK8xuQSXgvopZPKiAlKQTGdMDQMc2PMTiVFrqoM7hD8bEfwzB/onkxEz0tNvjj\n" \  
"/PIzark5McWvxI0NHWQWM6r6hCm21AvA2H3DkwIDAQABo4IBfTCCAXkwEgYDVR0T\n" \  
"AQH/BAgwBgEB/wIBADAOBgNVHQ8BAf8EBAMCAYYwfwYIKwYBBQUHAQEEczBxMDIG\n" \  
"CCsGAQUFBzABhiZodHRwOi8vaXNyZy50cnVzdGlkLm9jc3AuaWRlbnRydXN0LmNv\n" \  
"bTA7BggrBgEFBQcwAoYvaHR0cDovL2FwcHMuaWRlbnRydXN0LmNvbS9yb290cy9k\n" \  
"c3Ryb290Y2F4My5wN2MwHwYDVR0jBBgwFoAUxKexpHsscfrb4UuQdf/EFWCFiRAw\n" \  
"VAYDVR0gBE0wSzAIBgZngQwBAgEwPwYLKwYBBAGC3xMBAQEwMDAuBggrBgEFBQcC\n" \  
"ARYiaHR0cDovL2Nwcy5yb290LXgxLmxldHNlbmNyeXB0Lm9yZzA8BgNVHR8ENTAz\n" \  
"MDGgL6AthitodHRwOi8vY3JsLmlkZW50cnVzdC5jb20vRFNUUk9PVENBWDNDUkwu\n" \  
"Y3JsMB0GA1UdDgQWBBSoSmpjBH3duubRObemRWXv86jsoTANBgkqhkiG9w0BAQsF\n" \  
"AAOCAQEA3TPXEfNjWDjdGBX7CVW+dla5cEilaUcne8IkCJLxWh9KEik3JHRRHGJo\n" \  
"uM2VcGfl96S8TihRzZvoroed6ti6WqEBmtzw3Wodatg+VyOeph4EYpr/1wXKtx8/\n" \  
"wApIvJSwtmVi4MFU5aMqrSDE6ea73Mj2tcMyo5jMd6jmeWUHK8so/joWUoHOUgwu\n" \  
"X4Po1QYz+3dszkDqMp4fklxBwXRsW10KXzPMTZ+sOPAveyxindmjkW8lGy+QsRlG\n" \  
"PfZ+G6Z6h7mjem0Y+iWlkYcV4PIWL1iwBi8saCbGS5jN2p8M+X+Q7UNKEkROb3N6\n" \  
"KOqkqm57TH2H3eDJAkSnh6/DNFu0Qg==\n" \  
"-----END CERTIFICATE-----\n";
*/</span>

<span class="token keyword">void</span> <span class="token keyword">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    USE_SERIAL<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    USE_SERIAL<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    USE_SERIAL<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    USE_SERIAL<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span>uint8_t t <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> t <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> t<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        USE_SERIAL<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"[SETUP] WAIT %d...\n"</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
        USE_SERIAL<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    wifiMulti<span class="token punctuation">.</span><span class="token function">addAP</span><span class="token punctuation">(</span><span class="token string">"Redmi"</span><span class="token punctuation">,</span> <span class="token string">"1234567899"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token keyword">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// wait for WiFi connection</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>wifiMulti<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> WL_CONNECTED<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        HTTPClient http<span class="token punctuation">;</span>

        USE_SERIAL<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"[HTTP] begin...\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// configure traged server and url</span>
        <span class="token comment">//http.begin("https://www.howsmyssl.com/a/check", ca); //HTTPS</span>
        <span class="token comment">// http.begin("http://example.com/index.html"); //HTTP</span>
        http<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token string">"http://esp32.surge.sh/sample.bin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//HTTP</span>

        USE_SERIAL<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"[HTTP] GET...\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// start connection and send HTTP header</span>
        <span class="token keyword">int</span> httpCode <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// httpCode will be negative on error</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>httpCode <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// HTTP header has been send and Server response header has been handled</span>
            USE_SERIAL<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"[HTTP] GET... code: %d\n"</span><span class="token punctuation">,</span> httpCode<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// file found at server</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>httpCode <span class="token operator">==</span> HTTP_CODE_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">String</span> payload <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                USE_SERIAL<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            USE_SERIAL<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"[HTTP] GET... failed, error: %s\n"</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span><span class="token function">errorToString</span><span class="token punctuation">(</span>httpCode<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        http<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></span></span></span></code></pre></div></details><pre id="https://www.notion.so/ebe320c268e54e17a974712d46d5a96f" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;WiFi.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;HTTPClient.h></span></span>
 
const char<span class="token operator">*</span> ssid <span class="token operator">=</span> <span class="token string">"Redmi"</span><span class="token punctuation">;</span>
const char<span class="token operator">*</span> password <span class="token operator">=</span>  <span class="token string">"1234567899"</span><span class="token punctuation">;</span>
 
<span class="token keyword">void</span> <span class="token keyword">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>ssid<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> WL_CONNECTED<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Connecting to WiFi.."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Connected to the WiFi network"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token punctuation">}</span>
 
<span class="token keyword">void</span> <span class="token keyword">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> WL_CONNECTED<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//Check the current connection status</span>
 
    HTTPClient http<span class="token punctuation">;</span>
 
    http<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token string">"http://wtfismyip.com/json"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Specify the URL</span>
    <span class="token keyword">int</span> httpCode <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                        <span class="token comment">//Make the request</span>
 
    <span class="token keyword">if</span> <span class="token punctuation">(</span>httpCode <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//Check for the returning code</span>
 
        <span class="token keyword">String</span> payload <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>httpCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
 
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Error on HTTP request"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 
    http<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Free the resources</span>
  <span class="token punctuation">}</span>
 
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token punctuation">}</span></span></span></span></code></pre><h2 id="https://www.notion.so/02408d76a3b54dffb50554e5ad648f85" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/02408d76a3b54dffb50554e5ad648f85"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Downloading a file and storing it into SPIFFS</span></span></h2><pre id="https://www.notion.so/d09be7b6b1fd453cb3a6e89b2c24b440" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;SPIFFS.h></span></span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;WiFi.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;HTTPClient.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"SPIFFS.h"</span></span>
 
const char<span class="token operator">*</span> ssid <span class="token operator">=</span> <span class="token string">"Moinak's_Wifi"</span><span class="token punctuation">;</span>
const char<span class="token operator">*</span> password <span class="token operator">=</span>  <span class="token string">"Moinak123"</span><span class="token punctuation">;</span>
 
<span class="token keyword">void</span> <span class="token keyword">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>ssid<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> WL_CONNECTED<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Connecting to WiFi.."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Connected to the WiFi network"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>SPIFFS<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"An Error has occurred while mounting SPIFFS"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

 
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> WL_CONNECTED<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//Check the current connection status</span>
 
    HTTPClient http<span class="token punctuation">;</span>

    <span class="token keyword">String</span> fileName <span class="token operator">=</span> "</span></span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Commented"><span><span class="token operator">/</span>final<span class="token punctuation">.</span>bin</span></span></span><span class="SemanticString"><span>"<span class="token punctuation">;</span>
    <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">File</span> f <span class="token operator">=</span> SPIFFS<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>fileName<span class="token punctuation">,</span> FILE_WRITE<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        http<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token string">"http://wtfismyip.com/json"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> httpCode <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>httpCode <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
						</span></span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Commented"><span><span class="token keyword">String</span> dataContent <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dataContent<span class="token punctuation">)</span><span class="token punctuation">;</span>
            f<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>dataContent<span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></span><span class="SemanticString"><span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"HTTP GET request failed!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"File Write Succeeded!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"File mounting failed!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    </span></span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Commented"><span>f<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></span><span class="SemanticString"><span>
 
    http<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Free the resources</span>
  <span class="token punctuation">}</span>
 
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token punctuation">}</span>
 
<span class="token keyword">void</span> <span class="token keyword">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span></span></span></span></code></pre><h2 id="https://www.notion.so/84fdff8929f445b0a8e9d80d44f19e63" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/84fdff8929f445b0a8e9d80d44f19e63"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Reading the persistent file from SPIFFS</span></span></h2><pre id="https://www.notion.so/b5af2612f2d849578fd25e79373f592d" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"SPIFFS.h"</span></span>
 
<span class="token keyword">void</span> <span class="token keyword">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 
   <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>SPIFFS<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"An Error has occurred while mounting SPIFFS"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 
    <span class="token builtin">File</span> file2 <span class="token operator">=</span> SPIFFS<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"/hello.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>file2<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Failed to open file for reading"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 
    <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"File Content:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
    <span class="token keyword">while</span><span class="token punctuation">(</span>file2<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 
        <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>file2<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 
    file2<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">void</span> <span class="token keyword">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/d356f2a4e68f472b93c39324231fe9ed" class="Divider"></div><h1 id="https://www.notion.so/4f094c5fb3a346f8bebb4cb2de2e9da5" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/4f094c5fb3a346f8bebb4cb2de2e9da5"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Programming on ESP32 using uPyCraft IDE</span></span></h1><h1 id="https://www.notion.so/55b7f0e0e3774a03bd7dbe65223ff092" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/55b7f0e0e3774a03bd7dbe65223ff092"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Flashing Micropython firmware on ESP32</span></span></h1><ol class="NumberedListWrapper"><li id="https://www.notion.so/69cbc5c4e29f475ea5c8cfaaeaea80fd" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">Download the latest firmware (standard firmware) </span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic">.bin</em></span><span class="SemanticString"> file from </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="http://micropython.org/download#esp32">here</a></span><span class="SemanticString">.</span></span></li><li id="https://www.notion.so/fac3da4c8e9f4edb97cd8e96956f9c5e" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">Install </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="http://esptool.py"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">esptool.py</strong></a></span><span class="SemanticString"> from </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/espressif/esptool">source</a></span><span class="SemanticString"> or </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">pip3 install esptool</code></span><span class="SemanticString">. Make sure that esptool.py is in PATH</span></span></li><li id="https://www.notion.so/83c7ceaa7ab04d51a8e8b55ec675afc7" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">Erase the flash memory using </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="http://esptool.py">esptool.py</a></span><span class="SemanticString"> using command </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">esptool.py â€”chip esp32 erase_flash</code></span></span></li><li id="https://www.notion.so/7f26b8a22c814a99bc2f10ce29d2a39d" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">Flash the downloaded firmware using command </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">esptool.py --chip esp32 --port </code></span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorBrown"><code class="SemanticString__Fragment SemanticString__Fragment--Code">/dev/ttyUSB0</code></mark></span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code"> write_flash -z 0x1000 </code></span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorBrown"><code class="SemanticString__Fragment SemanticString__Fragment--Code">esp32-20190904-v1.11-274-g06661890d.bin</code></mark></span></span></li></ol><h1 id="https://www.notion.so/f5fb076ed47c4acfa010a6a88983e3eb" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/f5fb076ed47c4acfa010a6a88983e3eb"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Set up Micropython Development Environment</span></span></h1><ol class="NumberedListWrapper"><li id="https://www.notion.so/3d0c5eb85eef4110b50ed28027046fc0" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">Download </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">uPyCraft IDE</strong></span><span class="SemanticString"> from </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://raw.githubusercontent.com/DFRobot/uPyCraft/master/uPyCraft_linux_V1.0">GitHub</a></span><span class="SemanticString"> according to OS.</span></span></li><li id="https://www.notion.so/919b370ae78f4bce8e45a34def4bcd3e" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">On Linux you need to </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">chmod +x uPyCraft_linux_V1.0</code></span><span class="SemanticString"> and then </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">./uPyCraft_linux_V1.0</code></span><span class="SemanticString"> to execute the IDE.</span></span></li><li id="https://www.notion.so/044968fbf61541fba7591296c3530b06" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">Select the correct port from Tools â†’ Serial</span></span></li><li id="https://www.notion.so/d84d8cbd7d4645e0802d01e4af202b9a" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://randomnerdtutorials.com/getting-started-micropython-esp32-esp8266/">Learn and explore uPyCraft IDE</a></span></span></li></ol><h1 id="https://www.notion.so/fa129969ca8c4055873bb1c3b4eb8d1b" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/fa129969ca8c4055873bb1c3b4eb8d1b"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Debugging</span></span></h1><ul class="BulletedListWrapper"><li id="https://www.notion.so/10fe9550fe594ff0ab94b75ae218253c" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">pyserial</code></span><span class="SemanticString"> module for Micropython</span></span><div id="https://www.notion.so/71c1637425e547549b1a4473b5fdce3a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Discussion: </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://forum.micropython.org/viewtopic.php?t=2408">https://forum.micropython.org/viewtopic.php?t=2408</a></span><span class="SemanticString">
Implementation: </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/dhylands/bioloid3/blob/master/stm_uart_port.py">https://github.com/dhylands/bioloid3/blob/master/stm_uart_port.py</a></span><span class="SemanticString"> [Pyboard not ESP32]</span></span></p></div></li></ul><h1 id="https://www.notion.so/0d03e9fd3e344e6cb8376cde51334447" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/0d03e9fd3e344e6cb8376cde51334447"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Developing on ESP32 using Micropython</span></span></h1><details id="https://www.notion.so/6ea3417dfdad42c2958a0d0851c937e7" class="ColorfulBlock ColorfulBlock--ColorDefault Toggle"><summary class="Toggle__Summary"><span class="SemanticStringArray"><span class="SemanticString">Connect to a WiFi network</span></span></summary><div class="Toggle__Content"><pre id="https://www.notion.so/b1c21bde8c844e9190d8f11deff07a4d" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">def</span> <span class="token function">wlan_connect</span><span class="token punctuation">(</span>ssid<span class="token operator">=</span><span class="token string">'MYSSID'</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token string">'MYPASS'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">import</span> network
	wlan <span class="token operator">=</span> network<span class="token punctuation">.</span>WLAN<span class="token punctuation">(</span>network<span class="token punctuation">.</span>STA_IF<span class="token punctuation">)</span>
	<span class="token keyword">if</span> <span class="token keyword">not</span> wlan<span class="token punctuation">.</span>active<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token keyword">not</span> wlan<span class="token punctuation">.</span>isconnected<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
		wlan<span class="token punctuation">.</span>active<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
		<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'connecting to:'</span><span class="token punctuation">,</span> ssid<span class="token punctuation">)</span>
		wlan<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>ssid<span class="token punctuation">,</span> password<span class="token punctuation">)</span>
		<span class="token keyword">while</span> <span class="token keyword">not</span> wlan<span class="token punctuation">.</span>isconnected<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
			<span class="token keyword">pass</span>
	<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'network config:'</span><span class="token punctuation">,</span> wlan<span class="token punctuation">.</span>ifconfig<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   
wlan_connect<span class="token punctuation">(</span><span class="token string">"ro.d"</span><span class="token punctuation">,</span> <span class="token string">"fo45#cuu"</span><span class="token punctuation">)</span></span></span></span></code></pre></div></details><details id="https://www.notion.so/963bd94498804534adf7122d1ea2eec3" class="ColorfulBlock ColorfulBlock--ColorDefault Toggle"><summary class="Toggle__Summary"><span class="SemanticStringArray"><span class="SemanticString">ESP32 recieves through UART and immediately sends it again through UART</span></span></summary><div class="Toggle__Content"><pre id="https://www.notion.so/0596abbd47074200ac8aa226875f50d4" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">import</span> urequests
<span class="token keyword">from</span> machine <span class="token keyword">import</span> UART
<span class="token keyword">from</span> machine <span class="token keyword">import</span> Pin
<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep

<span class="token keyword">def</span> <span class="token function">init_uart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	uart <span class="token operator">=</span> UART<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
	uart<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token number">2400</span><span class="token punctuation">)</span>
	<span class="token keyword">print</span><span class="token punctuation">(</span>uart<span class="token punctuation">)</span>
	<span class="token keyword">return</span> uart

<span class="token keyword">def</span> <span class="token function">uart_loopback</span><span class="token punctuation">(</span>uart<span class="token punctuation">)</span><span class="token punctuation">:</span>
	foo <span class="token operator">=</span> uart<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
	uart<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">)</span>

uart <span class="token operator">=</span> init_uart<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	uart_loopback<span class="token punctuation">(</span><span class="token punctuation">)</span>
	led<span class="token punctuation">.</span>value<span class="token punctuation">(</span><span class="token keyword">not</span> led<span class="token punctuation">.</span>value<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	sleep<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span></span></span></span></code></pre></div></details><details id="https://www.notion.so/098371d941844decbc2de244d6ae94a7" class="ColorfulBlock ColorfulBlock--ColorDefault Toggle"><summary class="Toggle__Summary"><span class="SemanticStringArray"><span class="SemanticString">Downloading a file from a web server and storing it in the flash memory
</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">REMEMBER: </strong></span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><code class="SemanticString__Fragment SemanticString__Fragment--Code">urequests</code></strong></span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"> is the micropython library for making http requests</strong></span></span></summary><div class="Toggle__Content"><pre id="https://www.notion.so/82812cd09bab4ab3b1f41ac4592ab852" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">import</span> urequests

<span class="token keyword">def</span> <span class="token function">wlan_connect</span><span class="token punctuation">(</span>ssid<span class="token operator">=</span><span class="token string">'MYSSID'</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token string">'MYPASS'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">import</span> network
	wlan <span class="token operator">=</span> network<span class="token punctuation">.</span>WLAN<span class="token punctuation">(</span>network<span class="token punctuation">.</span>STA_IF<span class="token punctuation">)</span>
	<span class="token keyword">if</span> <span class="token keyword">not</span> wlan<span class="token punctuation">.</span>active<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token keyword">not</span> wlan<span class="token punctuation">.</span>isconnected<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
		wlan<span class="token punctuation">.</span>active<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
		<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'connecting to:'</span><span class="token punctuation">,</span> ssid<span class="token punctuation">)</span>
		wlan<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>ssid<span class="token punctuation">,</span> password<span class="token punctuation">)</span>
		<span class="token keyword">while</span> <span class="token keyword">not</span> wlan<span class="token punctuation">.</span>isconnected<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
			<span class="token keyword">pass</span>
	<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'network config:'</span><span class="token punctuation">,</span> wlan<span class="token punctuation">.</span>ifconfig<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">downloadMyFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	wlan_connect<span class="token punctuation">(</span><span class="token string">"ro.d"</span><span class="token punctuation">,</span> <span class="token string">"fo45#cuu"</span><span class="token punctuation">)</span>
	path <span class="token operator">=</span> <span class="token string">'/final.bin'</span>
	<span class="token comment"># url = 'http://jsonplaceholder.typicode.com/todos/1'</span>
	url <span class="token operator">=</span> <span class="token string">'http://esp32.surge.sh/final.bin'</span>
	response <span class="token operator">=</span> urequests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
	<span class="token comment"># print(response.content)</span>
	f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span>
	f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>response<span class="token punctuation">.</span>content<span class="token punctuation">)</span>
	f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
  
downloadMyFile<span class="token punctuation">(</span><span class="token punctuation">)</span></span></span></span></code></pre></div></details><details id="https://www.notion.so/f2f1a22f4fd440e48617cbe36fc65e5d" class="ColorfulBlock ColorfulBlock--ColorDefault Toggle"><summary class="Toggle__Summary"><span class="SemanticStringArray"><span class="SemanticString">ESP32 flashes .bin file through UART</span></span></summary><div class="Toggle__Content"><pre id="https://www.notion.so/751520c6641c4dbe99ab2f25d553f805" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">from</span> machine <span class="token keyword">import</span> UART

<span class="token keyword">def</span> <span class="token function">writeMemory</span><span class="token punctuation">(</span>addr<span class="token punctuation">,</span> data<span class="token punctuation">,</span> lng<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"writeMemory: Writing to memory through offset"</span><span class="token punctuation">)</span>
	offs <span class="token operator">=</span> <span class="token number">0</span>
	<span class="token keyword">while</span> lng <span class="token operator">></span> <span class="token number">256</span><span class="token punctuation">:</span>
		cmdWriteMemory<span class="token punctuation">(</span>addr<span class="token punctuation">,</span> data<span class="token punctuation">[</span>offs<span class="token punctuation">:</span>offs<span class="token operator">+</span><span class="token number">256</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
		offs <span class="token operator">=</span> offs <span class="token operator">+</span> <span class="token number">256</span>
		addr <span class="token operator">=</span> addr <span class="token operator">+</span> <span class="token number">256</span>
		lng <span class="token operator">=</span> lng <span class="token operator">-</span> <span class="token number">256</span>
	cmdWriteMemory<span class="token punctuation">(</span>addr<span class="token punctuation">,</span> data<span class="token punctuation">[</span>offs<span class="token punctuation">:</span>offs<span class="token operator">+</span>lng<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0xFF</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">256</span><span class="token operator">-</span>lng<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> lng<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">cmdGeneric</span><span class="token punctuation">(</span>cmd<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"cmdGeneric: Generic Flash command"</span><span class="token punctuation">)</span>
	sp<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">chr</span><span class="token punctuation">(</span>cmd<span class="token punctuation">)</span><span class="token punctuation">)</span>
	sp<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">chr</span><span class="token punctuation">(</span>cmd <span class="token operator">^</span> <span class="token number">0xFF</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># Control byte</span>
	<span class="token keyword">return</span> _wait_for_ask<span class="token punctuation">(</span><span class="token builtin">hex</span><span class="token punctuation">(</span>cmd<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">cmdWriteMemory</span><span class="token punctuation">(</span>addr<span class="token punctuation">,</span> data<span class="token punctuation">,</span> lengthOriginal<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"cmdWriteMemory: Driver for writing to memory"</span><span class="token punctuation">)</span>
	<span class="token keyword">assert</span><span class="token punctuation">(</span>lengthOriginal <span class="token operator">&lt;=</span> <span class="token number">1024</span><span class="token punctuation">)</span> <span class="token comment"># changed this from 256</span>
	<span class="token keyword">if</span> cmdGeneric<span class="token punctuation">(</span><span class="token number">0x31</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
		sp<span class="token punctuation">.</span>write<span class="token punctuation">(</span>_encode_addr<span class="token punctuation">(</span>addr<span class="token punctuation">)</span><span class="token punctuation">)</span>
		_wait_for_ask<span class="token punctuation">(</span><span class="token string">"0x31 address failed"</span><span class="token punctuation">)</span>
		<span class="token comment">#map(lambda c: hex(ord(c)), data)</span>
		lng <span class="token operator">=</span> <span class="token punctuation">(</span>lengthOriginal<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span>
		sp<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">chr</span><span class="token punctuation">(</span>lng<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># len really</span>
		crc <span class="token operator">=</span> <span class="token number">0xFF</span>
		<span class="token keyword">for</span> c <span class="token keyword">in</span> data<span class="token punctuation">:</span>
			crc <span class="token operator">=</span> crc <span class="token operator">^</span> c
			sp<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">chr</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>
		sp<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">chr</span><span class="token punctuation">(</span>crc<span class="token punctuation">)</span><span class="token punctuation">)</span>
		_wait_for_ask<span class="token punctuation">(</span><span class="token string">"0x31 programming failed"</span><span class="token punctuation">)</span>
	<span class="token keyword">else</span><span class="token punctuation">:</span>
		<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Write memory (0x31) failed"</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">_wait_for_ask</span><span class="token punctuation">(</span>info <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Waiting"</span><span class="token punctuation">)</span>
	<span class="token comment"># wait for ask</span>
	<span class="token keyword">try</span><span class="token punctuation">:</span>
		ask <span class="token operator">=</span> <span class="token builtin">ord</span><span class="token punctuation">(</span>sp<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">except</span><span class="token punctuation">:</span>
		<span class="token keyword">if</span> ask <span class="token operator">==</span> <span class="token number">0x79</span><span class="token punctuation">:</span>
			<span class="token comment"># ACK</span>
			<span class="token keyword">return</span> <span class="token number">1</span>

<span class="token keyword">def</span> <span class="token function">init_uart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	uart <span class="token operator">=</span> UART<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
	uart<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span>
	<span class="token keyword">print</span><span class="token punctuation">(</span>uart<span class="token punctuation">)</span>
	<span class="token keyword">return</span> uart

<span class="token keyword">def</span> <span class="token function">uart_loopback</span><span class="token punctuation">(</span>uart<span class="token punctuation">)</span><span class="token punctuation">:</span>
	foo <span class="token operator">=</span> uart<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
	uart<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">loadData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'final.bin'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span>
	<span class="token comment"># rawData = f.read()</span>
	<span class="token comment"># data = map(lambda c: c, rawData)</span>
	data <span class="token operator">=</span> <span class="token punctuation">[</span>c <span class="token keyword">for</span> c <span class="token keyword">in</span> f<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
	f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> data


sp <span class="token operator">=</span> init_uart<span class="token punctuation">(</span><span class="token punctuation">)</span>
dataMap <span class="token operator">=</span> loadData<span class="token punctuation">(</span><span class="token punctuation">)</span>
mapLength <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>dataMap<span class="token punctuation">)</span>
writeMemory<span class="token punctuation">(</span><span class="token number">0x08000000</span><span class="token punctuation">,</span> dataMap<span class="token punctuation">,</span> mapLength<span class="token punctuation">)</span></span></span></span></code></pre></div></details></article>  <footer class="Footer">
        <div>&copy; Rounak's Î¼Blog 2019</div>
        <div>&centerdot;</div>
        <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
            rel="noopener noreferrer">Notablog</a>.
        </div>
    </footer>
</body>

</html>